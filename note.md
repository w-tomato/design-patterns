# Java设计模式笔记
## 一、创建型模式
### 1.1 [单例模式](src/main/java/org/bradaier/designpatterns/creational/singleton/DCL.java)
    最简单的就是饿汉，直接初始化一个静态变量，每次有人调用getInstance()方法时，直接返回这个静态变量即可。
    但是这样的话，就会在类加载的时候就创建这个实例，如果这个实例很大，而且不一定会被使用，那么就会造成内存的浪费。
    所以，我们可以使用懒汉模式，也就是在第一次使用的时候才创建这个实例，但是这样的话，就会有线程安全的问题，所以我们可以使用双重检查锁定的方式来解决这个问题。
    但是这样的话，还是会有问题，就是在JVM中，创建对象和赋值是分开的，也就是说，可能会出现先赋值，后创建对象的情况，这样的话，就会出现问题。
    所以，我们可以使用volatile关键字来解决这个问题，这样的话，就会强制线程每次都去主内存中读取变量的值，而不是从线程的私有内存中读取变量的值。
    也可以使用静态内部类的方式来实现单例模式，这样的话，就可以保证线程安全，也可以保证懒加载，而且也不会有性能问题。
    最后，还可以使用枚举的方式来实现单例模式，这样的话，就可以保证线程安全，也可以保证懒加载，而且也不会有性能问题，而且还可以防止反序列化的时候创建新的对象。

### 1.2 [工厂模式](src/main/java/org/bradaier/designpatterns/creational/factory/abstractf/IProductFactory.java)
    简单工厂模式：就是一个工厂类，这个工厂类可以根据传入的参数，来决定创建哪一种产品类的实例。
    工厂方法模式：就是一个抽象工厂类，这个抽象工厂类可以有多个具体的工厂类，这些具体的工厂类都继承自抽象工厂类，每个具体的工厂类都可以创建一种产品类的实例。
    抽象工厂模式：就是一个抽象工厂类，这个抽象工厂类可以有多个具体的工厂类，这些具体的工厂类都继承自抽象工厂类，每个具体的工厂类都可以创建多种产品类的实例。

### 1.3 [建造者模式](src/main/java/org/bradaier/designpatterns/creational/builder/demo1/AbstractBuilder.java) 
    建造者模式：就是一个抽象建造者类，这个抽象建造者类可以有多个具体的建造者类，这些具体的建造者类都继承自抽象建造者类，每个具体的建造者类都可以创建一种产品类的实例。
    与工厂模式的区别在于工厂模式最终目的是创建不同的对象，比如创建手机对象和路由器对象，但建造者模式是我就要建造手机，但是有的建造者建造手机用的是高通处理器，有的建造者建造手机用的是联发科处理器，这个可以由用户来自定义，而工厂模式是由工厂来决定的。
    所以也可以简单理解为工厂生产处不同的产品，而建造者生产相同的产品，但是产品的组成不同。

### 1.4 [原型模式](src/main/java/org/bradaier/designpatterns/creational/prototype/PrototypeObject.java)
    原型模式：定义一个原形对象，这个对象需要两个步骤，一个是实现Cloneable接口，一个是重写clone()方法，这个方法的返回值是这个对象的一个浅拷贝。
    当创建新的对象实例比从头开始构建更加昂贵或复杂时，使用原型模式可以通过复制现有对象来节省时间和资源。

    
